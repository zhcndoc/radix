---
metaTitle: 警告对话框
metaDescription: 一个中断用户的重要内容并期待回应的模态对话框。
name: alert-dialog
aria: https://www.w3.org/WAI/ARIA/apg/patterns/alertdialog
---

# 警告对话框

<Description>
    一个中断用户的重要内容并期待回应的模态对话框。
</Description>

<HeroContainer>
    <AlertDialogDemo />
</HeroContainer>

<HeroCodeBlock folder="AlertDialog" />

<Highlights
    features={[
        "焦点会被自动捕获。",
        "可以是受控或非受控。",
        <span>
            使用 <Code>Title</Code> 和 <Code>Description</Code> 组件来管理屏幕阅读器通知。
        </span>,
        "按 Esc 键会自动关闭组件。",
    ]}
/>

## 安装

可以从命令行中安装该组件。

```bash
npm install @radix-ui/react-alert-dialog
```

## 结构

导入所有部分并将其组合在一起。

```jsx
import { AlertDialog } from "radix-ui";

export default () => (
    <AlertDialog.Root>
        <AlertDialog.Trigger />
        <AlertDialog.Portal>
            <AlertDialog.Overlay />
            <AlertDialog.Content>
                <AlertDialog.Title />
                <AlertDialog.Description />
                <AlertDialog.Cancel />
                <AlertDialog.Action />
            </AlertDialog.Content>
        </AlertDialog.Portal>
    </AlertDialog.Root>
);
```

## API 参考

### 根部

包含警告对话框的所有部分。

<PropsTable
    data={[
        {
            name: "defaultOpen",
            type: "boolean",
            description:
                "对话框在初次渲染时的打开状态。当您无需控制其打开状态时，请使用。",
        },
        {
            name: "open",
            type: "boolean",
            description: (
                <span>
                    对话框的受控打开状态。必须与 <Code>onOpenChange</Code> 一起使用。
                </span>
            ),
        },
        {
            name: "onOpenChange",
            type: "(open: boolean) => void",
            typeSimple: "function",
            description:
                "当对话框的打开状态变化时调用的事件处理程序。",
        },
    ]}
/>

### 触发器

一个打开对话框的按钮。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
    ]}
/>

<DataAttributesTable
    data={[
        {
            attribute: "[data-state]",
            values: ["open", "closed"],
        },
    ]}
/>

### 门口

使用时，将您的覆盖层和内容部分传送到 `body` 中。

<PropsTable
    data={[
        {
            name: "forceMount",
            type: "boolean",
            description: (
                <span>
                    当需要更多控制时用于强制挂载。对使用 React 动画库控制动画时非常有用。如果在此部分使用，则会被 <Code>AlertDialog.Overlay</Code> 和 <Code>AlertDialog.Content</Code> 继承。
                </span>
            ),
        },
        {
            name: "container",
            type: "HTMLElement",
            default: "document.body",
            description: "指定将内容门户化的容器元素。",
        },
    ]}
/>

### 覆盖层

对话框打开时覆盖视图的无效部分的层。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
        {
            name: "forceMount",
            type: "boolean",
            description: (
                <span>
                    当需要更多控制时用于强制挂载。对使用 React 动画库控制动画时非常有用。它从 <Code>AlertDialog.Portal</Code> 继承。
                </span>
            ),
        },
    ]}
/>

<DataAttributesTable
    data={[
        {
            attribute: "[data-state]",
            values: ["open", "closed"],
        },
    ]}
/>

### 内容

包含在对话框打开时要呈现的内容。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
        {
            name: "forceMount",
            type: "boolean",
            description: (
                <span>
                    当需要更多控制时用于强制挂载。对使用 React 动画库控制动画时非常有用。它从 <Code>AlertDialog.Portal</Code> 继承。
                </span>
            ),
        },
        {
            name: "onOpenAutoFocus",
            type: "(event: Event) => void",
            typeSimple: "function",
            description: (
                <span>
                    当焦点移动到破坏性动作时调用的事件处理程序。可以通过调用 <Code>event.preventDefault</Code> 防止它。
                </span>
            ),
        },
        {
            name: "onCloseAutoFocus",
            type: "(event: Event) => void",
            typeSimple: "function",
            description: (
                <span>
                    当焦点移动到触发器时调用的事件处理程序。可以通过调用 <Code>event.preventDefault</Code> 防止它。
                </span>
            ),
        },
        {
            name: "onEscapeKeyDown",
            type: "(event: KeyboardEvent) => void",
            typeSimple: "function",
            description: (
                <span>
                    当按下 Esc 键时调用的事件处理程序。可以通过调用 <Code>event.preventDefault</Code> 防止它。
                </span>
            ),
        },
    ]}
/>

<DataAttributesTable
    data={[
        {
            attribute: "[data-state]",
            values: ["open", "closed"],
        },
    ]}
/>

### 取消

一个关闭对话框的按钮。该按钮应该在视觉上与 `AlertDialog.Action` 按钮区分开来。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
    ]}
/>

### 动作

一个关闭对话框的按钮。这些按钮应该在视觉上与 `AlertDialog.Cancel` 按钮区分开来。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
    ]}
/>

### 标题

打开对话框时将被宣布的可访问名称。或者，您可以为 `AlertDialog.Content` 提供 `aria-label` 或 `aria-labelledby`，并排除此组件。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
    ]}
/>

### 描述

打开对话框时将被宣布的可访问描述。或者，您可以为 `AlertDialog.Content` 提供 `aria-describedby`，并排除此组件。

<PropsTable
    data={[
        {
            name: "asChild",
            required: false,
            type: "boolean",
            default: "false",
            description: (
                <>
                    用传递的子元素替换默认呈现的元素，合并它们的属性和行为。
                    <br />
                    <br />
                    阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
                </>
            ),
        },
    ]}
/>

## 示例

### 在异步表单提交后关闭

使用受控属性在异步操作完成后以编程方式关闭警告对话框。

```jsx line=4,7,10,15,17
import * as React from "react";
import { AlertDialog } from "radix-ui";

const wait = () => new Promise((resolve) => setTimeout(resolve, 1000));

export default () => {
    const [open, setOpen] = React.useState(false);

    return (
        <AlertDialog.Root __open__={open} __onOpenChange__={setOpen}>
            <AlertDialog.Trigger>打开</AlertDialog.Trigger>
            <AlertDialog.Portal>
                <AlertDialog.Overlay />
                <AlertDialog.Content>
                    <form
                        onSubmit={(event) => {
                            wait().then(() => setOpen(false));
                            event.preventDefault();
                        }}
                    >
                        {/** 一些输入 */}
                        <button type="submit">提交</button>
                    </form>
                </AlertDialog.Content>
            </AlertDialog.Portal>
        </AlertDialog.Root>
    );
};
```

### 自定义门户容器

自定义您的警告对话框门户的元素。

```jsx line=2,13
export default () => {
    const [container, setContainer] = React.useState(null);
    return (
        <div>
            <AlertDialog.Root>
                <AlertDialog.Trigger />
                <AlertDialog.Portal __container__={container}>
                    <AlertDialog.Overlay />
                    <AlertDialog.Content>...</AlertDialog.Content>
                </AlertDialog.Portal>
            </AlertDialog.Root>

            <div ref={setContainer} />
        </div>
    );
};
```

## 可访问性

遵循 [警告和消息对话框 WAI-ARIA 设计模式](https://www.w3.org/WAI/ARIA/apg/patterns/alertdialog)。

### 键盘交互

<KeyboardTable
    data={[
        {
            keys: ["Space"],
            description: "打开/关闭对话框。",
        },
        {
            keys: ["Enter"],
            description: "打开/关闭对话框。",
        },
        {
            keys: ["Tab"],
            description: "将焦点移动到下一个可聚焦元素。",
        },
        {
            keys: ["Shift + Tab"],
            description: "将焦点移动到上一个可聚焦元素。",
        },
        {
            keys: ["Esc"],
            description: (
                <span>
                    关闭对话框并将焦点移动到 <Code>AlertDialog.Trigger</Code>。
                </span>
            ),
        },
    ]}
/>