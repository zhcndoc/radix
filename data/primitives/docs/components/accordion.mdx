---
metaTitle: 手风琴
metaDescription: 一组垂直堆叠的交互式标题，每个标题都会显示一个相关的内容部分。
name: accordion
aria: https://www.w3.org/WAI/ARIA/apg/patterns/accordion
---

# 手风琴

<Description>
	一组垂直堆叠的交互式标题，每个标题都会显示一个相关的内容部分。
</Description>

<HeroContainer>
	<AccordionDemo />
</HeroContainer>

<HeroCodeBlock folder="Accordion" />

<Highlights
	features={[
		"完整的键盘导航。",
		"支持横向/纵向方向。",
		"支持从右到左的方向。",
		"可以展开一个或多个项目。",
		"可以是受控或非受控的。",
	]}
/>

## 安装

从命令行安装组件。

```bash
npm install @radix-ui/react-accordion
```

## 解剖结构

导入所有部分并将其组合在一起。

```jsx
import { Accordion } from "radix-ui";

export default () => (
	<Accordion.Root>
		<Accordion.Item>
			<Accordion.Header>
				<Accordion.Trigger />
			</Accordion.Header>
			<Accordion.Content />
		</Accordion.Item>
	</Accordion.Root>
);
```

## API 参考

### 根元素

包含手风琴的所有部分。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染元素更改为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详细信息。
				</>
			),
		},
		{
			name: "type",
			required: true,
			type: '"single" | "multiple"',
			typeSimple: "enum",
			description: (
				<span>
					决定是否可以同时打开一个或多个项目。
				</span>
			),
		},
		{
			name: "value",
			required: false,
			type: "string",
			description: (
				<span>
					当 <Code>type</Code> 为 <Code>"single"</Code> 时，展开的项目的受控值。 必须与 <Code>onValueChange</Code> 一起使用。
				</span>
			),
		},
		{
			name: "defaultValue",
			required: false,
			type: "string",
			description: (
				<span>
					当初始渲染且 <Code>type</Code> 为 <Code>"single"</Code> 时，展开的项目的值。 当您不需要控制项目的状态时使用。
				</span>
			),
		},
		{
			name: "onValueChange",
			required: false,
			type: "(value: string) => void",
			typeSimple: "function",
			description: (
				<span>
					当项目的展开状态发生变化且 <Code>type</Code> 为 <Code>"single"</Code> 时调用的事件处理程序。
				</span>
			),
		},
		{
			name: "value",
			required: false,
			default: "[]",
			type: "string[]",
			description: (
				<span>
					当 <Code>type</Code> 为 <Code>"multiple"</Code> 时，展开的项目的受控值。 必须与 <Code>onValueChange</Code> 一起使用。
				</span>
			),
		},
		{
			name: "defaultValue",
			required: false,
			default: "[]",
			type: "string[]",
			description: (
				<span>
					当 <Code>type</Code> 为 <Code>"multiple"</Code> 时，初始渲染时展开的项目的值。 当您不需要控制项目的状态时使用。
				</span>
			),
		},
		{
			name: "onValueChange",
			required: false,
			type: "(value: string[]) => void",
			typeSimple: "function",
			description: (
				<span>
					当项目的展开状态发生变化且 <Code>type</Code> 为 <Code>"multiple"</Code> 时调用的事件处理程序。
				</span>
			),
		},
		{
			name: "collapsible",
			required: false,
			default: "false",
			type: "boolean",
			description: (
				<span>
					当 <Code>type</Code> 为 <Code>"single"</Code> 时，允许在单击已打开项目的触发器时关闭内容。
				</span>
			),
		},
		{
			name: "disabled",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<span>
					当 <Code>true</Code> 时，阻止用户与手风琴及其所有项目进行交互。
				</span>
			),
		},
		{
			name: "dir",
			required: false,
			type: '"ltr" | "rtl"',
			typeSimple: "enum",
			default: '"ltr"',
			description:
				"在适用时，手风琴的阅读方向。如果省略，默认为 LTR (从左到右) 阅读模式。",
		},
		{
			name: "orientation",
			required: false,
			type: '"horizontal" | "vertical"',
			typeSimple: "enum",
			default: '"vertical"',
			description: "手风琴的方向。",
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 项目

包含可折叠部分的所有部分。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染元素更改为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详细信息。
				</>
			),
		},
		{
			name: "disabled",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<span>
					当 <Code>true</Code> 时，阻止用户与该项目进行交互。
				</span>
			),
		},
		{
			name: "value",
			required: true,
			type: "string",
			description: "项目的唯一值。",
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 头部

包裹一个 `Accordion.Trigger`。 使用 `asChild` 属性将它更新为适合您页面的标题级别。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染元素更改为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详细信息。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 触发器

切换其关联项目的折叠状态。 应嵌套在 `Accordion.Header` 内部。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染元素更改为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详细信息。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 内容

包含项目的可折叠内容。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染元素更改为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详细信息。
				</>
			),
		},
		{
			name: "forceMount",
			type: "boolean",
			description: (
				<span>
					在需要更多控制时使用以强制挂载。 在使用 React 动画库控制动画时很有用。
				</span>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

<CssVariablesTable
	data={[
		{
			cssVariable: "--radix-accordion-content-width",
			description: "内容打开/关闭时的宽度",
		},
		{
			cssVariable: "--radix-accordion-content-height",
			description: "内容打开/关闭时的高度",
		},
	]}
/>

## 示例

### 默认展开

使用 `defaultValue` 属性定义默认打开的项目。

```jsx line=1
<Accordion.Root type="single" __defaultValue__="item-2">
	<Accordion.Item value="item-1">…</Accordion.Item>
	<Accordion.Item value="item-2">…</Accordion.Item>
</Accordion.Root>
```

### 允许折叠所有项目

使用 `collapsible` 属性允许所有项目关闭。

```jsx line=1
<Accordion.Root type="single" __collapsible__>
	<Accordion.Item value="item-1">…</Accordion.Item>
	<Accordion.Item value="item-2">…</Accordion.Item>
</Accordion.Root>
```

### 同时打开多个项目

将 `type` 属性设置为 `multiple` 以启用同时打开多个项目。

```jsx line=1
<Accordion.Root type="__multiple__">
	<Accordion.Item value="item-1">…</Accordion.Item>
	<Accordion.Item value="item-2">…</Accordion.Item>
</Accordion.Root>
```

### 打开时旋转图标

您可以添加额外的装饰元素，例如尖头，当项目打开时旋转它。

```jsx line=12
// index.jsx
import { Accordion } from "radix-ui";
import { ChevronDownIcon } from "@radix-ui/react-icons";
import "./styles.css";

export default () => (
	<Accordion.Root type="single">
		<Accordion.Item value="item-1">
			<Accordion.Header>
				<Accordion.Trigger className="AccordionTrigger">
					<span>触发文本</span>
					<ChevronDownIcon __className__="AccordionChevron" aria-hidden />
				</Accordion.Trigger>
			</Accordion.Header>
			<Accordion.Content>…</Accordion.Content>
		</Accordion.Item>
	</Accordion.Root>
);
```

```css line=5-7
/* styles.css */
.AccordionChevron {
	transition: transform 300ms;
}
.AccordionTrigger[data-state="open"] > .AccordionChevron {
	transform: rotate(180deg);
}
```

### 横向方向

使用 `orientation` 属性创建一个横向手风琴。

```jsx line=1
<Accordion.Root __orientation__="horizontal">
	<Accordion.Item value="item-1">…</Accordion.Item>
	<Accordion.Item value="item-2">…</Accordion.Item>
</Accordion.Root>
```

### 动画内容大小

使用 `--radix-accordion-content-width` 和/或 `--radix-accordion-content-height` CSS 变量来动画内容打开/关闭时的大小：

```jsx line=9
// index.jsx
import { Accordion } from "radix-ui";
import "./styles.css";

export default () => (
	<Accordion.Root type="single">
		<Accordion.Item value="item-1">
			<Accordion.Header>…</Accordion.Header>
			<Accordion.Content __className__="AccordionContent">…</Accordion.Content>
		</Accordion.Item>
	</Accordion.Root>
);
```

```css line=21,27
/* styles.css */
.AccordionContent {
	overflow: hidden;
}
.AccordionContent[data-state="open"] {
	animation: slideDown 300ms ease-out;
}
.AccordionContent[data-state="closed"] {
	animation: slideUp 300ms ease-out;
}

@keyframes slideDown {
	from {
		height: 0;
	}
	to {
		height: var(__--radix-accordion-content-height__);
	}
}

@keyframes slideUp {
	from {
		height: var(__--radix-accordion-content-height__);
	}
	to {
		height: 0;
	}
}
```

## 可访问性

遵循 [手风琴 WAI-ARIA 设计模式](https://www.w3.org/WAI/ARIA/apg/patterns/accordion)。

### 键盘交互

<KeyboardTable
	data={[
		{
			keys: ["Space"],
			description: (
				<span>
					当焦点位于折叠部分的 <Code>Accordion.Trigger</Code> 上时，展开该部分。
				</span>
			),
		},
		{
			keys: ["Enter"],
			description: (
				<span>
					当焦点位于折叠部分的 <Code>Accordion.Trigger</Code> 上时，展开该部分。
				</span>
			),
		},
		{
			keys: ["Tab"],
			description: "将焦点移到下一个可聚焦元素。",
		},
		{
			keys: ["Shift + Tab"],
			description: "将焦点移到上一个可聚焦元素。",
		},
		{
			keys: ["ArrowDown"],
			description: (
				<span>
					当 <Code>orientation</Code> 为 <Code>vertical</Code> 时，将焦点移动到下一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
		{
			keys: ["ArrowUp"],
			description: (
				<span>
					当 <Code>orientation</Code> 为 <Code>vertical</Code> 时，将焦点移动到上一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
		{
			keys: ["ArrowRight"],
			description: (
				<span>
					当 <Code>orientation</Code> 为 <Code>horizontal</Code> 时，将焦点移动到下一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
		{
			keys: ["ArrowLeft"],
			description: (
				<span>
					当 <Code>orientation</Code> 为 <Code>horizontal</Code> 时，将焦点移动到上一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
		{
			keys: ["Home"],
			description: (
				<span>
					当焦点位于 <Code>Accordion.Trigger</Code> 上时，将焦点移到第一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
		{
			keys: ["End"],
			description: (
				<span>
					当焦点位于 <Code>Accordion.Trigger</Code> 上时，将焦点移到最后一个 <Code>Accordion.Trigger</Code>。
				</span>
			),
		},
	]}
/>