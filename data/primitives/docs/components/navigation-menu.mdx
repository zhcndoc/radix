---
metaTitle: 导航菜单
metaDescription: 用于浏览网站的链接集合。
name: navigation-menu
aria: https://www.w3.org/TR/wai-aria/#navigation
---

# 导航菜单

<Description>用于浏览网站的链接集合。</Description>

<HeroContainer>
	<NavigationMenuDemo />
</HeroContainer>

<HeroCodeBlock folder="NavigationMenu" />

<Highlights
	features={[
		"可以是受控或非受控的。",
		"灵活的布局结构，带有管理的标签焦点。",
		"支持子菜单。",
		"可选的活动项指示器。",
		"全面的键盘导航。",
		"暴露用于高级动画的 CSS 变量。",
		"支持自定义时机。",
	]}
/>

## 安装

从命令行安装组件。

```bash
npm install @radix-ui/react-navigation-menu
```

## 组成结构

导入所有部分并将它们组合在一起。

```jsx
import { NavigationMenu } from "radix-ui";

export default () => (
	<NavigationMenu.Root>
		<NavigationMenu.List>
			<NavigationMenu.Item>
				<NavigationMenu.Trigger />
				<NavigationMenu.Content>
					<NavigationMenu.Link />
				</NavigationMenu.Content>
			</NavigationMenu.Item>

			<NavigationMenu.Item>
				<NavigationMenu.Link />
			</NavigationMenu.Item>

			<NavigationMenu.Item>
				<NavigationMenu.Trigger />
				<NavigationMenu.Content>
					<NavigationMenu.Sub>
						<NavigationMenu.List />
						<NavigationMenu.Viewport />
					</NavigationMenu.Sub>
				</NavigationMenu.Content>
			</NavigationMenu.Item>

			<NavigationMenu.Indicator />
		</NavigationMenu.List>

		<NavigationMenu.Viewport />
	</NavigationMenu.Root>
);
```

## API 参考

### Root

包含导航菜单的所有部分。

<PropsTable
	data={[
		{
			name: "defaultValue",
			required: false,
			type: "string",
			description:
				"初次渲染时应处于活动状态的菜单项值。在不需要控制值状态时使用。",
		},
		{
			name: "value",
			required: false,
			type: "string",
			description: (
				<span>
					应用于激活的菜单项的受控值。应与 <Code>onValueChange</Code> 一起使用。
				</span>
			),
		},
		{
			name: "onValueChange",
			required: false,
			type: "(value: string) => void",
			typeSimple: "function",
			description: "当值更改时调用的事件处理程序。",
		},
		{
			name: "delayDuration",
			type: "number",
			default: 200,
			description:
				"鼠标进入触发器到内容打开之间的持续时间。",
		},
		{
			name: "skipDelayDuration",
			type: "number",
			default: 300,
			description:
				"用户进入另一个触发器而不产生延迟的时间。",
		},
		{
			name: "dir",
			required: false,
			type: '"ltr" | "rtl"',
			typeSimple: "enum",
			description: (
				<span>
					当适用时，菜单的阅读方向。如果省略，则从 <Code>DirectionProvider</Code> 全局继承或假设 LTR（从左到右）阅读模式。
				</span>
			),
		},
		{
			name: "orientation",
			required: false,
			type: '"horizontal" | "vertical"',
			typeSimple: "enum",
			default: '"horizontal"',
			description: "菜单的方向。",
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### Sub

表示子菜单。在嵌套时要用它替代根部分以创建子菜单。

<PropsTable
	data={[
		{
			name: "defaultValue",
			required: false,
			type: "string",
			description:
				"初次渲染时应处于活动状态的菜单项值。在不需要控制值状态时使用。",
		},
		{
			name: "value",
			required: false,
			type: "string",
			description: (
				<span>
					应用于激活的子菜单项的受控值。应与 <Code>onValueChange</Code> 一起使用。
				</span>
			),
		},
		{
			name: "onValueChange",
			required: false,
			type: "(value: string) => void",
			typeSimple: "function",
			description: "当值更改时调用的事件处理程序。",
		},
		{
			name: "orientation",
			required: false,
			type: '"horizontal" | "vertical"',
			typeSimple: "enum",
			default: '"horizontal"',
			description: "菜单的方向。",
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### List

包含顶级菜单项。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### Item

一个顶级菜单项，包含链接或触发器和内容组合。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "value",
			required: false,
			type: "string",
			description: (
				<span>
					一个唯一值，将该项与受控的活动值关联。当导航菜单为非受控时，此属性会自动管理。
				</span>
			),
		},
	]}
/>

### Trigger

切换内容的按钮。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-disabled]",
			values: "当禁用时显示",
		},
	]}
/>

### Content

包含与每个触发器关联的内容。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "onEscapeKeyDown",
			type: "(event: KeyboardEvent) => void",
			typeSimple: "function",
			description: (
				<span>
					当按下 escape 键时调用的事件处理程序。可以通过调用 <Code>event.preventDefault</Code> 来阻止它。
				</span>
			),
		},
		{
			name: "onPointerDownOutside",
			type: "(event: PointerDownOutsideEvent) => void",
			typeSimple: "function",
			description: (
				<span>
					当指针事件发生在组件边界外时调用的事件处理程序。可以通过调用{" "}
					<Code>event.preventDefault</Code> 来阻止它。
				</span>
			),
		},
		{
			name: "onFocusOutside",
			type: "(event: FocusOutsideEvent) => void",
			typeSimple: "function",
			description: (
				<span>
					当焦点移出组件边界时调用的事件处理程序。可以通过调用{" "}
					<Code>event.preventDefault</Code> 来阻止它。
				</span>
			),
		},
		{
			name: "onInteractOutside",
			type: "(event: React.FocusEvent | MouseEvent | TouchEvent) => void",
			typeSimple: "function",
			description: (
				<span>
					当互动（指针或焦点事件）发生在组件边界外时调用的事件处理程序。可以通过调用 <Code>event.preventDefault</Code> 来阻止它。
				</span>
			),
		},
		{
			name: "forceMount",
			type: "boolean",
			description: (
				<span>
					用于在需要更多控制时强制挂载。对于使用 React 动画库控制动画时很有用。
				</span>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-motion]",
			values: ["to-start", "to-end", "from-start", "from-end"],
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### Link

一个导航链接。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "active",
			required: false,
			type: "boolean",
			default: "false",
			description: "用于将链接标识为当前活动页面。",
		},
		{
			name: "onSelect",
			type: "(event: Event) => void",
			typeSimple: "function",
			description: (
				<span>
					当用户选择链接（通过鼠标或键盘）时调用的事件处理程序。可以在此处理程序中调用 <Code>event.preventDefault</Code>，以防止在选择该链接时关闭导航菜单。
				</span>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-active]",
			values: "当活动时显示",
		},
	]}
/>

### Indicator

一个可选的指示器元素，渲染在列表下面，用于突出显示当前活动的触发器。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "forceMount",
			type: "boolean",
			description: (
				<span>
					用于在需要更多控制时强制挂载。对于使用 React 动画库控制动画时很有用。
				</span>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["visible", "hidden"],
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### Viewport

一个可选的视口元素，用于在列表之外渲染活动内容。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					将默认渲染的元素更改为传递的子元素，合并它们的属性和行为。
					<br />
					<br />
					阅读我们的 <a href="../guides/composition">组合</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "forceMount",
			type: "boolean",
			description: (
				<span>
					用于在需要更多控制时强制挂载。对于使用 React 动画库控制动画时很有用。
				</span>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-state]",
			values: ["open", "closed"],
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

<CssVariablesTable
	data={[
		{
			cssVariable: "--radix-navigation-menu-viewport-width",
			description:
				"视口在可见/隐藏状态下的宽度，从活动内容计算",
		},
		{
			cssVariable: "--radix-navigation-menu-viewport-height",
			description:
				"视口在可见/隐藏状态下的高度，从活动内容计算",
		},
	]}
/>

## 示例

### 垂直

您可以通过使用 `orientation` 属性创建一个垂直菜单。

```jsx line=1
<NavigationMenu.Root __orientation__="vertical">
	<NavigationMenu.List>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目一</NavigationMenu.Trigger>
			<NavigationMenu.Content>项目一内容</NavigationMenu.Content>
		</NavigationMenu.Item>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目二</NavigationMenu.Trigger>
			<NavigationMenu.Content>项目二内容</NavigationMenu.Content>
		</NavigationMenu.Item>
	</NavigationMenu.List>
</NavigationMenu.Root>
```

### 灵活布局

当你需要额外控制 `Content` 的渲染位置时，使用 `Viewport` 部分。当你的设计需要调整的 DOM 结构，或需要灵活性以实现 [高级动画](/primitives/docs/components/navigation-menu#advanced-animation) 时，这非常有用。
标签焦点将自动保持。

```jsx line=14
<NavigationMenu.Root>
	<NavigationMenu.List>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目一</NavigationMenu.Trigger>
			<NavigationMenu.Content>项目一内容</NavigationMenu.Content>
		</NavigationMenu.Item>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目二</NavigationMenu.Trigger>
			<NavigationMenu.Content>项目二内容</NavigationMenu.Content>
		</NavigationMenu.Item>
	</NavigationMenu.List>

	{/* NavigationalMenu.Content激活时将在这里渲染 */}
	<NavigationMenu.Viewport />
</NavigationMenu.Root>
```

### 带指示器

您可以使用可选的 `Indicator` 部分来突出显示当前活动的 `Trigger`，这在您希望提供动画视觉提示（例如箭头或高亮显示）以伴随 `Viewport` 时非常有用。

```jsx line=17
// index.jsx
import { NavigationMenu } from "radix-ui";
import "./styles.css";

export default () => (
	<NavigationMenu.Root>
		<NavigationMenu.List>
			<NavigationMenu.Item>
				<NavigationMenu.Trigger>项目一</NavigationMenu.Trigger>
				<NavigationMenu.Content>项目一内容</NavigationMenu.Content>
			</NavigationMenu.Item>
			<NavigationMenu.Item>
				<NavigationMenu.Trigger>项目二</NavigationMenu.Trigger>
				<NavigationMenu.Content>项目二内容</NavigationMenu.Content>
			</NavigationMenu.Item>

			<NavigationMenu.Indicator __className__="NavigationMenuIndicator" />
		</NavigationMenu.List>

		<NavigationMenu.Viewport />
	</NavigationMenu.Root>
);
```

```css
/* styles.css */
.NavigationMenuIndicator {
	background-color: grey;
}
.NavigationMenuIndicator[data-orientation="horizontal"] {
	height: 3px;
	transition:
		width,
		transform,
		250ms ease;
}
```

### 带子菜单

通过嵌套您的 `NavigationMenu` 并用 `Sub` 部分替换其 `Root` 来创建子菜单。
子菜单与 `Root` 导航菜单的工作方式不同，更像是 [`Tabs`](/primitives/docs/components/tabs)，因为始终应该有一个项目处于活动状态，因此请务必分配并设置 `defaultValue`。

```jsx line=10,25
<NavigationMenu.Root>
	<NavigationMenu.List>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目一</NavigationMenu.Trigger>
			<NavigationMenu.Content>项目一内容</NavigationMenu.Content>
		</NavigationMenu.Item>
		<NavigationMenu.Item>
			<NavigationMenu.Trigger>项目二</NavigationMenu.Trigger>
			<NavigationMenu.Content>
				<NavigationMenu.__Sub__ __defaultValue__="sub1">
					<NavigationMenu.List>
						<NavigationMenu.Item value="sub1">
							<NavigationMenu.Trigger>子项目一</NavigationMenu.Trigger>
							<NavigationMenu.Content>
								子项目一内容
							</NavigationMenu.Content>
						</NavigationMenu.Item>
						<NavigationMenu.Item value="sub2">
							<NavigationMenu.Trigger>子项目二</NavigationMenu.Trigger>
							<NavigationMenu.Content>
								子项目二内容
							</NavigationMenu.Content>
						</NavigationMenu.Item>
					</NavigationMenu.List>
				</NavigationMenu.__Sub__>
			</NavigationMenu.Content>
		</NavigationMenu.Item>
	</NavigationMenu.List>
</NavigationMenu.Root>
```

### 带客户端路由

如果您需要使用路由包提供的 `Link` 组件，我们建议通过自定义组件与 `NavigationMenu.Link` 组合使用。
这将确保无障碍性和一致的键盘控制。以下是使用 Next.js 的示例：

```jsx line=7-16,22,25
// index.jsx
import { usePathname } from "next/navigation";
import NextLink from "next/link";
import { NavigationMenu } from "radix-ui";
import "./styles.css";

const Link = ({ href, ...props }) => {
	const pathname = usePathname();
	const isActive = href === pathname;

	return (
		<NavigationMenu.Link asChild active={isActive}>
			<NextLink href={href} className="NavigationMenuLink" {...props} />
		</NavigationMenu.Link>
	);
};

export default () => (
	<NavigationMenu.Root>
		<NavigationMenu.List>
			<NavigationMenu.Item>
				<Link href="/">首页</Link>
			</NavigationMenu.Item>
			<NavigationMenu.Item>
				<Link href="/about">关于</Link>
			</NavigationMenu.Item>
		</NavigationMenu.List>
	</NavigationMenu.Root>
);
```

```css
/* styles.css */
.NavigationMenuLink {
	text-decoration: none;
}
.NavigationMenuLink[data-active] {
	text-decoration: underline;
}
```

### 高级动画

我们暴露了 `--radix-navigation-menu-viewport-[width|height]` 和 `data-motion['from-start'|'to-start'|'from-end'|'to-end']` 属性，以允许您根据进入/退出方向动画化 `Viewport` 的大小和 `Content` 的位置。

将这些与 `position: absolute;` 结合使用，可以在移动项目之间时创建平滑的重叠动画效果。

```jsx line=10-12,16-18,22
// index.jsx
import { NavigationMenu } from "radix-ui";
import "./styles.css";

export default () => (
	<NavigationMenu.Root>
		<NavigationMenu.List>
			<NavigationMenu.Item>
				<NavigationMenu.Trigger>项目一</NavigationMenu.Trigger>
				<NavigationMenu.Content __className__="NavigationMenuContent">
					项目一内容
				</NavigationMenu.Content>
			</NavigationMenu.Item>
			<NavigationMenu.Item>
				<NavigationMenu.Trigger>项目二</NavigationMenu.Trigger>
				<NavigationMenu.Content __className__="NavigationMenuContent">
					项目二内容
				</NavigationMenu.Content>
			</NavigationMenu.Item>
		</NavigationMenu.List>

		<NavigationMenu.Viewport __className__="NavigationMenuViewport" />
	</NavigationMenu.Root>
);
```

```css line=9-20,24,25
/* styles.css */
.NavigationMenuContent {
	position: absolute;
	top: 0;
	left: 0;
	animation-duration: 250ms;
	animation-timing-function: ease;
}
.NavigationMenuContent[__data-motion__="from-start"] {
	animation-name: enterFromLeft;
}
.NavigationMenuContent[__data-motion__="from-end"] {
	animation-name: enterFromRight;
}
.NavigationMenuContent[__data-motion__="to-start"] {
	animation-name: exitToLeft;
}
.NavigationMenuContent[__data-motion__="to-end"] {
	animation-name: exitToRight;
}

.NavigationMenuViewport {
	position: relative;
	width: var(__--radix-navigation-menu-viewport-width__);
	height: var(__--radix-navigation-menu-viewport-height__);
	transition:
		width,
		height,
		250ms ease;
}

@keyframes enterFromRight {
	from {
		opacity: 0;
		transform: translateX(200px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes enterFromLeft {
	from {
		opacity: 0;
		transform: translateX(-200px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes exitToRight {
	from {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 0;
		transform: translateX(200px);
	}
}

@keyframes exitToLeft {
	from {
		opacity: 1;
		transform: translateX(0);
	}
	to {
		opacity: 0;
		transform: translateX(-200px);
	}
}
```

## 无障碍性

遵循 [`navigation` 角色要求](https://www.w3.org/TR/wai-aria-1.2/#navigation)。

### 与菜单栏的区别

`NavigationMenu` 不应与 `menubar` 混淆，尽管此原语在口头上使用 `menu` 来指代一组导航链接，但它并未使用 WAI-ARIA `menu` 角色。
这是因为 `menu` 和 `menubars` 的行为与最常见于桌面应用程序窗口的本机操作系统菜单类似，因此它们具有复杂的功能，例如复合焦点管理和首字符导航。

这些功能通常被认为是 [网站导航中不必要的](https://github.com/w3c/aria-practices/issues/353)，在最坏的情况下，可能会混淆熟悉成熟网站模式的用户。

请参见 W3C [Disclosure Navigation Menu](https://w3c.github.io/aria-practices/examples/disclosure/disclosure-navigation.html) 示例以获取更多信息。

### 链接使用和 aria-current

在菜单中使用 `NavigationMenu.Link` 进行所有导航链接很重要，这不仅适用于主列表，也适用于通过 `NavigationMenu.Content` 渲染的任何内容。这将确保一致的键盘交互和无障碍性，同时也提供了 `active` 属性以设置 `aria-current` 和活动样式。
有关与第三方路由组件一起使用的更多信息，请参见 [此示例](/primitives/docs/components/navigation-menu#with-client-side-routing)。

### 键盘交互

<KeyboardTable
	data={[
		{
			keys: ["Space", "Enter"],
			description: (
				<span>
					当焦点在 <Code>NavigationMenu.Trigger</Code> 上时，打开内容。
				</span>
			),
		},
		{
			keys: ["Tab"],
			description: "将焦点移动到下一个可聚焦元素。",
		},
		{
			keys: ["ArrowDown"],
			description: (
				<span>
					当 <Code>horizontal</Code> 并且焦点在打开的 <Code>NavigationMenu.Trigger</Code> 上时，将焦点移入 <Code>NavigationMenu.Content</Code>。
					<br />
					将焦点移到下一个 <Code>NavigationMenu.Trigger</Code> 或 <Code>NavigationMenu.Link</Code>。
				</span>
			),
		},
		{
			keys: ["ArrowUp"],
			description: (
				<span>
					将焦点移到上一个 <Code>NavigationMenu.Trigger</Code> 或 <Code>NavigationMenu.Link</Code>。
				</span>
			),
		},
		{
			keys: ["ArrowRight", "ArrowLeft"],
			description: (
				<span>
					当 <Code>vertical</Code> 并且焦点在打开的 <Code>NavigationMenu.Trigger</Code> 上时，将焦点移入其 <Code>NavigationMenu.Content</Code>。
					<br />
					将焦点移到下一个/上一个 <Code>NavigationMenu.Trigger</Code> 或 <Code>NavigationMenu.Link</Code>。
				</span>
			),
		},
		{
			keys: ["Home", "End"],
			description: (
				<span>
					将焦点移到第一个/最后一个 <Code>NavigationMenu.Trigger</Code> 或 <Code>NavigationMenu.Link</Code>。
				</span>
			),
		},
		{
			keys: ["Esc"],
			description: (
				<span>
					关闭打开的 <Code>NavigationMenu.Content</Code> 并将焦点移到其 <Code>NavigationMenu.Trigger</Code>。
				</span>
			),
		},
	]}
/>