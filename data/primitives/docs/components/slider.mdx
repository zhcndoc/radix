---
metaTitle: 滑块
metaDescription: 用户在给定范围内选择一个值的输入组件。
name: slider
aria: https://www.w3.org/WAI/ARIA/apg/patterns/slider-multithumb
---

# 滑块

<Description>
	用户在给定范围内选择一个值的输入组件。
</Description>

<HeroContainer>
	<SliderDemo />
</HeroContainer>

<HeroCodeBlock folder="Slider" />

<Highlights
	features={[
		"可以是可控或不可控的。",
		"支持多个滑块。",
		"支持滑块之间的最小值。",
		"支持在轨道上触摸或点击以更新值。",
		"支持从右到左的方向。",
		"完整的键盘导航。",
	]}
/>

## 安装

从命令行安装组件。

```bash
npm install @radix-ui/react-slider
```

## 结构

导入所有部分并将其组合在一起。

```jsx
import { Slider } from "radix-ui";

export default () => (
	<Slider.Root>
		<Slider.Track>
			<Slider.Range />
		</Slider.Track>
		<Slider.Thumb />
	</Slider.Root>
);
```

## API 参考

### 根节点

包含滑块的所有部分。当在 `form` 中使用时，它将为每个滑块渲染一个 `input`，以确保事件正确传播。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					更改默认渲染元素为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					请阅读我们的 <a href="../guides/composition">组成</a> 指南以获取更多详情。
				</>
			),
		},
		{
			name: "defaultValue",
			required: false,
			type: "number[]",
			description:
				"滑块在初次渲染时的值。使用在不需要控制滑块状态时。",
		},
		{
			name: "value",
			required: false,
			type: "number[]",
			description: (
				<span>
					滑块的受控值。必须与 <Code>onValueChange</Code> 一起使用。
				</span>
			),
		},
		{
			name: "onValueChange",
			required: false,
			type: "onValueChange?(value: number[]): void",
			typeSimple: "function",
			description: "值变化时调用的事件处理程序。",
		},
		{
			name: "onValueCommit",
			required: false,
			type: "onValueCommit?(value: number[]): void",
			typeSimple: "function",
			description:
				"在交互结束时调用的值变化事件处理程序。当您只需要捕获最终值时非常有用，例如更新后端服务。",
		},
		{
			name: "name",
			required: false,
			type: "string",
			description:
				"滑块的名称。作为名称/值对的一部分与其拥有的表单一起提交。",
		},
		{
			name: "disabled",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<span>
					当 <Code>true</Code> 时，阻止用户与滑块交互。
				</span>
			),
		},
		{
			name: "orientation",
			required: false,
			type: '"horizontal" | "vertical"',
			typeSimple: "enum",
			default: '"horizontal"',
			description: "滑块的方向。",
		},
		{
			name: "dir",
			required: false,
			type: '"ltr" | "rtl"',
			typeSimple: "enum",
			description: (
				<span>
					滑块的阅读方向。如果省略，则从 <Code>DirectionProvider</Code> 全局继承，或者假定为LTR（从左到右）阅读模式。
				</span>
			),
		},
		{
			name: "inverted",
			required: false,
			type: "boolean",
			default: "false",
			description: "滑块是否在视觉上反转。",
		},
		{
			name: "min",
			required: false,
			type: "number",
			default: "0",
			description: "范围的最小值。",
		},
		{
			name: "max",
			required: false,
			type: "number",
			default: "100",
			description: "范围的最大值。",
		},
		{
			name: "step",
			required: false,
			type: "number",
			default: "1",
			description: "步进间隔。",
		},
		{
			name: "minStepsBetweenThumbs",
			required: false,
			type: "number",
			default: "0",
			description: (
				<span>
					多个滑块之间允许的最小 <Code>step</Code>。
				</span>
			),
		},
		{
			name: "form",
			required: false,
			type: "string",
			description:
				"滑块所属表单的 ID。如果省略，滑块将与存在的父表单关联。",
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 轨道

包含 `Slider.Range` 的轨道。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					更改默认渲染元素为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					请阅读我们的 <a href="../guides/composition">组成</a> 指南以获取更多详情。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 范围

范围部分。必须位于 `Slider.Track` 内部。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					更改默认渲染元素为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					请阅读我们的 <a href="../guides/composition">组成</a> 指南以获取更多详情。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

### 滑块

可拖动的滑块。您可以渲染多个滑块。

<PropsTable
	data={[
		{
			name: "asChild",
			required: false,
			type: "boolean",
			default: "false",
			description: (
				<>
					更改默认渲染元素为作为子元素传递的元素，合并它们的属性和行为。
					<br />
					<br />
					请阅读我们的 <a href="../guides/composition">组成</a> 指南以获取更多详情。
				</>
			),
		},
	]}
/>

<DataAttributesTable
	data={[
		{
			attribute: "[data-disabled]",
			values: "禁用时存在",
		},
		{
			attribute: "[data-orientation]",
			values: ["vertical", "horizontal"],
		},
	]}
/>

## 示例

### 垂直方向

使用 `orientation` 属性创建一个垂直滑块。

```jsx line=6
// index.jsx
import { Slider } from "radix-ui";
import "./styles.css";

export default () => (
	<Slider.Root
		className="SliderRoot"
		defaultValue={[50]}
		__orientation__="vertical"
	>
		<Slider.Track className="SliderTrack">
			<Slider.Range className="SliderRange" />
		</Slider.Track>
		<Slider.Thumb className="SliderThumb" />
	</Slider.Root>
);
```

```css line=7,18,26
/* styles.css */
.SliderRoot {
	position: relative;
	display: flex;
	align-items: center;
}
.SliderRoot[__data-orientation="vertical"__] {
	flex-direction: column;
	width: 20px;
	height: 100px;
}

.SliderTrack {
	position: relative;
	flex-grow: 1;
	background-color: grey;
}
.SliderTrack[__data-orientation="vertical"__] {
	width: 3px;
}

.SliderRange {
	position: absolute;
	background-color: black;
}
.SliderRange[__data-orientation="vertical"__] {
	width: 100%;
}

.SliderThumb {
	display: block;
	width: 20px;
	height: 20px;
	background-color: black;
}
```

### 创建范围

添加多个滑块和值以创建一个范围滑块。

```jsx line=4,8-9
import { Slider } from "radix-ui";

export default () => (
	<Slider.Root defaultValue={__[25, 75]__}>
		<Slider.Track>
			<Slider.Range />
		</Slider.Track>
		<Slider.Thumb />
		<Slider.Thumb />
	</Slider.Root>
);
```

### 定义步长

使用 `step` 属性增加步进间隔。

```jsx line=4
import { Slider } from "radix-ui";

export default () => (
	<Slider.Root defaultValue={[50]} __step__={10}>
		<Slider.Track>
			<Slider.Range />
		</Slider.Track>
		<Slider.Thumb />
	</Slider.Root>
);
```

### 防止滑块重叠

使用 `minStepsBetweenThumbs` 避免滑块值相等。

```jsx line=4
import { Slider } from "radix-ui";

export default () => (
	<Slider.Root defaultValue={[25, 75]} step={10} __minStepsBetweenThumbs__={1}>
		<Slider.Track>
			<Slider.Range />
		</Slider.Track>
		<Slider.Thumb />
		<Slider.Thumb />
	</Slider.Root>
);
```

## 无障碍

遵循 [滑块 WAI-ARIA 设计模式](https://www.w3.org/WAI/ARIA/apg/patterns/slider-multithumb)。

### 键盘交互

<KeyboardTable
	data={[
		{
			keys: ["ArrowRight"],
			description: (
				<span>
					根据 <Code>orientation</Code> 的值递增/递减 <Code>step</Code> 值。
				</span>
			),
		},
		{
			keys: ["ArrowLeft"],
			description: (
				<span>
					根据 <Code>orientation</Code> 的值递增/递减 <Code>step</Code> 值。
				</span>
			),
		},
		{
			keys: ["ArrowUp"],
			description: (
				<span>
					值增加 <Code>step</Code> 数量。
				</span>
			),
		},
		{
			keys: ["ArrowDown"],
			description: (
				<span>
					值减少 <Code>step</Code> 数量。
				</span>
			),
		},
		{
			keys: ["PageUp"],
			description: (
				<span>
					值增加一个较大的 <Code>step</Code>。
				</span>
			),
		},
		{
			keys: ["PageDown"],
			description: (
				<span>
					值减少一个较大的 <Code>step</Code>。
				</span>
			),
		},
		{
			keys: ["Shift + ArrowUp"],
			description: (
				<span>
					值增加一个较大的 <Code>step</Code>。
				</span>
			),
		},
		{
			keys: ["Shift + ArrowDown"],
			description: (
				<span>
					值减少一个较大的 <Code>step</Code>。
				</span>
			),
		},
		{
			keys: ["Home"],
			description: "将值设置为最小值。",
		},
		{
			keys: ["End"],
			description: "将值设置为最大值。",
		},
	]}
/>

## 自定义 API

通过将基本部分抽象为自己的组件来创建自定义 API。

### 抽象所有部分

此示例抽象了所有 `Slider` 部分，以便可以将其用作自闭合元素。

#### 用法

```jsx
import { Slider } from "./your-slider";

export default () => <Slider defaultValue={[25]} />;
```

#### 实现

```jsx
// your-slider.jsx
import { Slider as SliderPrimitive } from "radix-ui";

export const Slider = React.forwardRef((props, forwardedRef) => {
	const value = props.value || props.defaultValue;

	return (
		<SliderPrimitive.Slider {...props} ref={forwardedRef}>
			<SliderPrimitive.Track>
				<SliderPrimitive.Range />
			</SliderPrimitive.Track>
			{value.map((_, i) => (
				<SliderPrimitive.Thumb key={i} />
			))}
		</SliderPrimitive.Slider>
	);
});
```

## 注意事项

### 鼠标事件未触发

由于在实现过程中遇到的 [限制](https://github.com/radix-ui/primitives/blob/83a8c13bf66f3d9f17d77caeb187a69eb146930b/packages/react/slider/src/Slider.tsx#L383-L384)，以下示例将无法按预期正常工作，`onMouseDown` 和 `onMouseUp` 事件处理程序将不会触发：

```jsx
<Slider.Root
	onMouseDown={() => console.log("onMouseDown")}
	onMouseUp={() => console.log("onMouseUp")}
>
	…
</Slider.Root>
```

我们建议使用指针事件（例如 `onPointerDown`，`onPointerUp`）。尽管存在上述限制，但这些事件更适合跨平台/设备处理，因为它们适用于所有指针输入类型（鼠标、触摸、笔等）。